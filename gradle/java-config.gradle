compileJava.options.release = javaVersion.toInteger()

extensions.configure(JavaPluginExtension) {
    // Explicit `it` is required here
    it.withJavadocJar()
    it.withSourcesJar()
}

tasks.withType(Jar).configureEach {
    manifest.attributes(
            'Implementation-Title': 'Asset Pipeline',
            'Implementation-Version': project.version,
            'Implementation-Vendor': "${project.group}:${findProperty('pomArtifactId') ?: project.name}",
            'Webjars-Locator-Version': project.findProperty('webjarsLocatorVersion') ?: '0.59'
    )
}